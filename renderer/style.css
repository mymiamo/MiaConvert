/* ===== macOS (Sonoma/Sequoia) tarzı ===== */
:root{
  --bg: #F5F5F7;               /* window background */
  --surface: rgba(255,255,255,0.68);
  --hairline: rgba(60,60,67,0.29);     /* separators */
  --stroke: rgba(60,60,67,0.36);
  --label: #111;
  --secondary: rgba(60,60,67,0.6);
  --tertiary: rgba(60,60,67,0.3);

  --accent: #0A84FF;           /* system accent (mavi varsayılan) */
  --danger: #FF3B30;

  --radius-lg: 14px;
  --radius-md: 10px;
  --radius-sm: 8px;
  --shadow: 0 8px 30px rgba(0,0,0,0.08);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg: #000000;             /* window background dark */
    --surface: rgba(22,22,24,0.7);
    --hairline: rgba(84,84,88,0.36);
    --stroke: rgba(84,84,88,0.65);
    --label: #fff;
    --secondary: rgba(235,235,245,0.6);
    --tertiary: rgba(235,235,245,0.25);
    --accent: #0A84FF;
    --danger: #FF453A;
    --shadow: 0 10px 36px rgba(0,0,0,0.45);
  }
}

*{ box-sizing:border-box }

html,body{
  height:100%;
  margin:0;
  color:var(--label);
  background:
    radial-gradient(800px 400px at 0% 0%, rgba(10,132,255,0.09), transparent 55%),
    radial-gradient(600px 380px at 100% 0%, rgba(52,199,89,0.08), transparent 55%),
    var(--bg);
  font: 14px/1.45 -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  padding:20px;
}

/* Büyük başlık (toolbar başlığı gibi) */
h1{
  margin:0 0 16px;
  font: 800 26px/1.2 -apple-system, "SF Pro Display", "SF Pro Text", system-ui;
  letter-spacing:-0.02em;
}

.cards{
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px;
}

.notification {
  display: flex;
  flex-direction: column;
  isolation: isolate;
  position: relative;
  width: 18rem;
  height: 8rem;
  background: #29292c;
  border-radius: 1rem;
  overflow: hidden;
  text-decoration: none;
  font-size: 16px;
  --gradient: linear-gradient(to bottom, #ff2e2e, #ffc23d, #ff8e61);
  --color: #32a6ff
  
}

.notification:before {
  position: absolute;
  content: "";
  inset: 0.0625rem;
  border-radius: 0.9375rem;
  background: #18181b;
  z-index: 2
}

.notification:after {
  position: absolute;
  content: "";
  width: 0.25rem;
  inset: 0.65rem auto 0.65rem 0.5rem;
  border-radius: 0.125rem;
  background: var(--gradient);
  transition: transform 300ms ease;
  z-index: 4;
}

.notification:hover:after {
  transform: translateX(0.15rem)
}

.notititle {
  color: var(--color);
  padding: 0.65rem 0.25rem 0.4rem 1.25rem;
  font-weight: 500;
  font-size: 1.1rem;
  transition: transform 300ms ease;
  z-index: 5;
}

.notification:hover .notititle {
  transform: translateX(0.15rem)
}

.notibody {
  color: #99999d;
  padding: 0 1.25rem;
  transition: transform 300ms ease;
  z-index: 5;
}

.notification:hover .notibody {
  transform: translateX(0.25rem)
}

.notiglow,
.notiborderglow {
  position: absolute;
  width: 20rem;
  height: 20rem;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle closest-side at center, white, transparent);
  opacity: 0;
  transition: opacity 300ms ease;
}

.notiglow {
  z-index: 3;
}

.notiborderglow {
  z-index: 1;
}

.notification:hover .notiglow {
  opacity: 0.1
}

.notification:hover .notiborderglow {
  opacity: 0.1
}

.note {
  color: var(--color);
  position: fixed;
  top: 80%;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  font-size: 0.9rem;
  width: 75%;
}

/* Grup/kart yüzeyi (vibrancy) */
fieldset, .row, #log{
  background: var(--surface);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-lg);
  padding:14px;
  box-shadow: var(--shadow);
  backdrop-filter: saturate(180%) blur(24px);
  -webkit-backdrop-filter: saturate(180%) blur(24px);
  margin-block: 15px;
  max-height: 250px;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Fieldset başlığı */
legend{
  padding:2px 10px;
  border-radius: 999px;
  font-weight: 600;
  color: var(--secondary);
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.55);
  
}

/* Etiketler */
label{
  display:block;
  margin:10px 0 6px;
  font-size:12px;
  font-weight:600;
  color: var(--secondary);
}

/* Grid düzeni */
.grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(180px, 1fr));
  gap:12px 16px;
}

/* Girdi & Select – macOS alanları */
input[type="text"], select{
  width:100%;
  height:36px;
  padding:6px 12px;
  border-radius: var(--radius-md);
  background: rgba(255,255,255,0.9);
  border:1px solid var(--hairline);
  color:var(--label);
  outline:none;
  transition: box-shadow .2s, border-color .2s, background .2s, transform .06s;
  -webkit-appearance: none;
  appearance: none;
}
input[type="text"]::placeholder{ color: var(--tertiary); }
input[type="text"]:focus,
select:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent) 25%, transparent);
  background:#fff;
}

/* Select ok işareti (ince) */
select{
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'>\
<path d='M6 8.5l4 4 4-4' stroke='rgba(60,60,67,0.55)' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'/>\
</svg>");
  background-repeat:no-repeat;
  background-position: right 10px center;
  padding-right:34px;
}

/* Butonlar – kapsül & sistem odak */
button{
  height:34px;
  padding:0 14px;
  border-radius: 999px;
  border:1px solid var(--hairline);
  background: rgba(82, 82, 82, 0.9);
  color: var(--label);
  font: 600 13px -apple-system, "SF Pro Text", system-ui;
  cursor:pointer;
  transition: transform .06s ease, filter .2s ease, box-shadow .2s ease, background .2s ease;
  -webkit-tap-highlight-color: transparent;
}
button:hover{ filter:brightness(1.03); }
button:active{ transform: translateY(1px); }
button:disabled{ opacity:.55; cursor:not-allowed; }

/* Birincil ve tehlikeli butonlar */
#start{
  background: var(--accent);
  border-color: color-mix(in srgb, var(--accent) 70%, black 15%);
  color:#fff;
  box-shadow: 0 10px 24px color-mix(in srgb, var(--accent) 35%, transparent);
}
#start:hover{ filter:brightness(1.04); }
#start:active{ filter:brightness(0.98); }

#cancel{
  background: color-mix(in srgb, var(--danger) 15%, transparent);
  color: var(--danger);
  border-color: color-mix(in srgb, var(--danger) 40%, transparent);
}

/* Satır blokları (buton satırı vb.) */
.row{
  display:flex;
  align-items:center;
  gap:10px;
}

/* İnce ayırıcı hissi (opsiyonel) */
.row, fieldset{
  box-shadow:
    inset 0 0 0 1px var(--stroke),
    var(--shadow);
}

/* Progress – macOS NSProgressView */
progress{
  width:100%;
  height:10px;
  border:none;
  border-radius:9999px;
  background: var(--tertiary);
  overflow:hidden;
}
progress::-webkit-progress-bar{
  background: var(--tertiary);
  border-radius:9999px;
}
progress::-webkit-progress-value{
  background: var(--accent);
  border-radius:9999px;
}
progress::-moz-progress-bar{
  background: var(--accent);
  border-radius:9999px;
}

#percent{
  margin:8px 0 10px;
  font-size:12px;
  color: var(--secondary);
}

/* Günlük kutusu (monospace, cam) */
#log{
  min-height:140px;
  padding:10px;
  overflow:auto;
  border-radius: var(--radius-lg);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:12.5px;
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--surface) 85%, white 15%);
}

/* Başlıklar */
h3{
  margin:16px 0 8px;
  font: 700 16px/1.3 -apple-system, "SF Pro Text", system-ui;
}

/* Yardımcı metin */
.muted{ color: var(--secondary); }

/* Küçük iyileştirmeler */
#outDir{
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:60ch;
}

/* Hareket azaltma isteğine saygı */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}

/* Küçük ekran uyumu */
@media (max-width: 640px){
  .grid{ grid-template-columns: 1fr; }
  h1{ font-size:24px; }
}

/* === GÖRÜNÜRLÜK YAMASI (macOS teması) === */
input[type="text"], select{
  /* Metin kontrastı */
  color: var(--label);
  caret-color: var(--accent);

  /* Yarı saydam yerine tam zemin */
  background: #fff !important;
  border-color: var(--hairline);
}

/* Placeholder'ı belirginleştir */
input[type="text"]::placeholder{
  color: color-mix(in srgb, var(--label) 45%, transparent);
  opacity: 1; /* Safari/Firefox için */
}

/* Dark Mode için net zemin + beyaz yazı */
@media (prefers-color-scheme: dark){
  input[type="text"], select{
    background: #1c1c1e !important; /* macOS koyu alan rengi */
    color: #fff;
  }
  input[type="text"]::placeholder{
    color: rgba(235,235,245,0.55);
  }
}

/* Chrome/Edge otomatik doldurma (sarı zemin) düzeltmesi */
input:-webkit-autofill,
input:-webkit-autofill:focus,
select:-webkit-autofill{
  -webkit-text-fill-color: var(--label) !important;
  transition: background-color 5000s ease-in-out 0s; /* sarı flaşı gizle */
  box-shadow: 0 0 0px 1000px #fff inset;          /* light mode */
}
@media (prefers-color-scheme: dark){
  input:-webkit-autofill,
  input:-webkit-autofill:focus,
  select:-webkit-autofill{
    -webkit-text-fill-color: #fff !important;
    box-shadow: 0 0 0px 1000px #1c1c1e inset;     /* dark mode */
  }
}

body::-webkit-scrollbar,
#log::-webkit-scrollbar{
  width: 8px;
  height: 8px;
}
body:hover::-webkit-scrollbar,
#log:hover::-webkit-scrollbar{
  width: 12px;
  height: 12px;
}
body::-webkit-scrollbar-track,
#log::-webkit-scrollbar-track{
  background: var(--sb-track);
}
body::-webkit-scrollbar-thumb,
#log::-webkit-scrollbar-thumb{
  background: var(--sb-thumb);
  border-radius: 999px;
  /* overlay boşluğu efekti için şeffaf kenar + clip */
  border: 3px solid transparent;
  background-clip: padding-box;
  box-shadow:
    inset 0 0 0 1px color-mix(in srgb, var(--label) 12%, transparent),
    0 0 1px rgba(0,0,0,.2);
}
body::-webkit-scrollbar-thumb:hover,
#log::-webkit-scrollbar-thumb:hover{
  background: var(--sb-thumb-hover);
}
body::-webkit-scrollbar-thumb:active,
#log::-webkit-scrollbar-thumb:active{
  background: var(--sb-thumb-active);
}

/* Scrollbar köşe ve butonlarını görünmez yap (macOS overlay gibi) */
body::-webkit-scrollbar-corner,
#log::-webkit-scrollbar-corner{ background: transparent; }
body::-webkit-scrollbar-button,
#log::-webkit-scrollbar-button{ display:none; }

/* Firefox – ince ve uyumlu renkler */
body, #log{
  scrollbar-width: thin; /* thin, auto */
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

/* #log özelinde (isteğe bağlı: biraz daha belirgin) */
#log:hover::-webkit-scrollbar-thumb{
  background: var(--sb-thumb-hover);
  box-shadow:
    inset 0 0 0 1px color-mix(in srgb, var(--label) 18%, transparent),
    0 2px 6px rgba(0,0,0,.15);
}

/* iOS/macOS trackpad akıcılığı (özellikle iOS için) */
#log{
  -webkit-overflow-scrolling: touch;
}